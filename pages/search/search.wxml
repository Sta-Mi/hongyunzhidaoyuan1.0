<view class="container">
  <!-- 搜索框 -->
  <view class="search-header">
    <view class="search-input-wrap">
      <image class="search-icon" src="/images/search.png"></image>
      <input 
        class="search-input" 
        placeholder="搜索景区名称、展厅、时期..." 
        value="{{keyword}}"
        bindinput="onInput"
        bindconfirm="onSearch"
      />
    </view>
    <view class="search-btn" bindtap="onSearch">搜索</view>
  </view>

  <!-- 搜索历史 -->
  <view class="search-history" wx:if="{{showHistory && searchHistory.length > 0}}">
    <view class="history-header">
      <text class="title">搜索历史</text>
      <text class="clear" bindtap="clearHistory">清空</text>
    </view>
    <view class="history-list">
      <view 
        class="history-item" 
        wx:for="{{searchHistory}}" 
        wx:key="*this"
        bindtap="onHistoryTap"
        data-keyword="{{item}}"
      >{{item}}</view>
    </view>
  </view>

  <!-- 搜索结果 -->
  <view class="search-results" wx:if="{{keyword}}">
    <view class="loading" wx:if="{{loading}}">搜索中...</view>
    <block wx:elif="{{searchResults.length > 0}}">
      <view 
        class="result-item"
        wx:for="{{searchResults}}"
        wx:key="id"
        bindtap="onResultTap"
        data-id="{{item.id}}"
      >
        <image class="result-image" src="{{item.imageUrl}}" mode="aspectFill"/>
        <view class="result-info">
          <view class="result-name">{{item.name}}</view>
          <view class="result-tags">
            <text class="tag">{{item.type}}</text>
            <text class="tag">{{item.region}}</text>
          </view>
          <view class="result-desc">{{item.description}}</view>
        </view>
      </view>
    </block>
    <view class="no-result" wx:else>
      <text>没有找到相关景点</text>
    </view>
  </view>
</view> 